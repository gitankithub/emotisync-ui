<section class="booking-section" *ngIf="!loading; else loadingTemplate">
  <h2 class="title"><mat-icon>dashboard</mat-icon> Reservation Dashboard</h2>

  <div class="booking-list">
    <button
      class="booking-card"
      *ngFor="let booking of reservations"
      (click)="openBooking(booking)"
    >
      <img
        [src]="booking.imageUrl"
        [alt]="booking.hotelName"
        class="booking-image"
      />

      <div class="booking-details">
        <div class="hotel-name">{{ booking.hotelName }}</div>
        <div class="dates">
          {{ booking.checkIn | date:'d MMMM y' }} to
          {{ booking.checkOut | date:'d MMMM y' }}
        </div>
        <div class="meta">
          <span>{{ booking.roomType | lowercase }}</span>
          <span>{{ booking.bedrooms }} bedroom</span>
          <span>{{ booking.guests }} guests</span>
        </div>
      </div>
       <div
        class="status-badge"
        [ngClass]="{
          'status-upcoming': booking.status === 'upcoming',
          'status-checkedin': booking.status === 'checkedin',
          'status-completed': booking.status === 'completed',
          'status-cancelled': booking.status === 'cancelled'
        }"
      >
        <span>Status: {{ booking.status | titlecase }}</span>
      </div>
    </button>
  </div>
</section>

<ng-template #loadingTemplate>
  <div class="loading">
    <mat-progress-spinner mode="indeterminate"></mat-progress-spinner>
  </div>
</ng-template>
